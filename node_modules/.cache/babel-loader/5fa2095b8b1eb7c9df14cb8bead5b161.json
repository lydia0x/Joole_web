{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/JavaCloudApplication/Joole_web/src/containers/register.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/auth';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      image: \"\"\n    };\n\n    this.inputChangedHandler = (event, controlName) => {\n      // console.log(...this.state.controls);\n      const updatedControls = { ...this.state.controls,\n        [controlName]: { ...this.state.controls[controlName],\n          value: event.target.value,\n          valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation),\n          touched: true\n        }\n      };\n      console.log(updatedControls);\n      console.log(this.state);\n      this.setState({\n        controls: updatedControls\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n      this.props.onAuth(this.state.controls.username.value, this.state.controls.password.value, this.state.isSignup);\n    };\n\n    this.switchAuthModeHandler = () => {\n      this.setState(prevState => {\n        return {\n          isSignup: !prevState.isSignup\n        };\n      });\n    };\n  }\n\n  checkValidity(value, rules) {\n    let isValid = true;\n\n    if (!rules) {\n      return true;\n    }\n\n    if (rules.required) {\n      isValid = value.trim() !== '' && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail) {\n      const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    return isValid;\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Sign Up For An Account\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      name: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"input\", {\n      name: \"image\",\n      placeholder: \"Image (URL)\",\n      value: this.state.image,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userRegister: user => dispatch(actions.userRegister(user))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register); // import React, { Component } from 'react';\n// import jooleLogo from '../assets/logo.png';\n// class Register extends Component {\n//   state = {\n//     username: \"\",\n//     password: \"\",\n//     image: \"\"\n//   }\n//   render() {\n//     return (\n//       <form onSubmit={this.handleSubmit}>\n//         <span>\n//           <image src={jooleLogo} alt=\"Joole\" />\n//         </span>  \n//         <h1>Register</h1>\n//         <label>Username</label>\n//         <input\n//           name='username'\n//           placeholder='Username'\n//         /><br />\n//         <label>Password</label>\n//         <input\n//           type='password'\n//           name='password'\n//           placeholder='Password'\n//         /><br />\n//         <label>Image</label>\n//         <input\n//           name='image'\n//           placeholder='Image (URL)'\n//         /><br />\n//         <input type='submit' />\n//       </form>\n//     )\n//   }\n// }\n// export default Register;","map":{"version":3,"sources":["/Users/apple/Desktop/JavaCloudApplication/Joole_web/src/containers/register.js"],"names":["React","Component","connect","actions","Register","state","username","password","image","inputChangedHandler","event","controlName","updatedControls","controls","value","target","valid","checkValidity","validation","touched","console","log","setState","submitHandler","preventDefault","props","onAuth","isSignup","switchAuthModeHandler","prevState","rules","isValid","required","trim","minLength","length","maxLength","isEmail","pattern","test","isNumeric","render","handleSubmit","handleChange","mapStateToProps","loading","auth","error","isAuthenticated","token","mapDispatchToProps","dispatch","userRegister","user"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport * as actions from '../actions/auth';\n\n\nclass Register extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    image: \"\"\n  }\n\n  checkValidity ( value, rules ) {\n    let isValid = true;\n    if ( !rules ) {\n        return true;\n    }\n\n    if ( rules.required ) {\n        isValid = value.trim() !== '' && isValid;\n    }\n\n    if ( rules.minLength ) {\n        isValid = value.length >= rules.minLength && isValid\n    }\n\n    if ( rules.maxLength ) {\n        isValid = value.length <= rules.maxLength && isValid\n    }\n\n    if ( rules.isEmail ) {\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test( value ) && isValid\n    }\n\n    if ( rules.isNumeric ) {\n        const pattern = /^\\d+$/;\n        isValid = pattern.test( value ) && isValid\n    }\n\n    return isValid;\n}\n\ninputChangedHandler = ( event, controlName ) => {\n  // console.log(...this.state.controls);\n    const updatedControls = {\n        ...this.state.controls,\n        [controlName]: {\n            ...this.state.controls[controlName],\n            value: event.target.value,\n            valid: this.checkValidity( event.target.value, this.state.controls[controlName].validation ),\n            touched: true\n        }\n    };\n    console.log(updatedControls);\n    console.log(this.state);\n    this.setState( { controls: updatedControls } );\n\n}\n\nsubmitHandler = ( event ) => {\n    event.preventDefault();\n    this.props.onAuth( this.state.controls.username.value, this.state.controls.password.value, this.state.isSignup );\n}\n\nswitchAuthModeHandler = () => {\n    this.setState(prevState => {\n        return {isSignup: !prevState.isSignup};\n    });\n}\n\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <h1>Sign Up For An Account</h1>\n\n        <label>Username</label>\n        <input\n          name='username'\n          placeholder='Username'\n          value={this.state.username}\n          onChange={this.handleChange}\n          /><br/>\n\n        <label>Password</label>\n        <input\n          type='password'\n          name='password'\n          placeholder='Password'\n          value={this.state.password}\n          onChange={this.handleChange}\n          /><br/>\n\n        <label>Image</label>\n          <input\n            name='image'\n            placeholder='Image (URL)'\n            value={this.state.image}\n            onChange={this.handleChange}\n            /><br/>\n\n        <input type='submit'/>\n      </form>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n      loading: state.auth.loading,\n      error: state.auth.error,\n      isAuthenticated: state.auth.token !== null,\n    \n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userRegister: (user) => dispatch( actions.userRegister(user) )\n  };\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( Register );\n\n\n// import React, { Component } from 'react';\n// import jooleLogo from '../assets/logo.png';\n\n// class Register extends Component {\n\n//   state = {\n//     username: \"\",\n//     password: \"\",\n//     image: \"\"\n//   }\n\n//   render() {\n//     return (\n//       <form onSubmit={this.handleSubmit}>\n//         <span>\n//           <image src={jooleLogo} alt=\"Joole\" />\n//         </span>  \n//         <h1>Register</h1>\n\n//         <label>Username</label>\n//         <input\n//           name='username'\n//           placeholder='Username'\n//         /><br />\n\n//         <label>Password</label>\n//         <input\n//           type='password'\n//           name='password'\n//           placeholder='Password'\n//         /><br />\n\n//         <label>Image</label>\n//         <input\n//           name='image'\n//           placeholder='Image (URL)'\n//         /><br />\n\n//         <input type='submit' />\n//       </form>\n//     )\n//   }\n// }\n\n// export default Register;"]},"metadata":{},"sourceType":"module"}